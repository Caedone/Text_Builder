<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="edu.utdallas.cs4485.sentencebuilder.controller.TextGeneratorController"
      spacing="10">
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <Label text="Text Generator" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>

    <!-- Algorithm Selection -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="Algorithm:"/>
        <RadioButton fx:id="firstOrderRadio" text="First-Order Markov Chain">
            <toggleGroup>
                <ToggleGroup fx:id="algorithmGroup"/>
            </toggleGroup>
        </RadioButton>
        <RadioButton fx:id="secondOrderRadio" text="Second-Order Markov Chain" toggleGroup="$algorithmGroup"/>
        <RadioButton fx:id="ngramRadio" text="N-gram" toggleGroup="$algorithmGroup"/>
    </HBox>

    <!-- Start Word Input -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="Start Word (optional):"/>
        <TextField fx:id="startWordField" promptText="Leave blank for random" prefWidth="300"/>
    </HBox>

    <!-- N-gram N Value Slider -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="N Value:"/>
        <Slider fx:id="nValueSlider" min="1" max="5" value="3" showTickLabels="true" showTickMarks="true"
                majorTickUnit="1" minorTickCount="0" snapToTicks="true" HBox.hgrow="ALWAYS" prefWidth="200"/>
        <Label fx:id="nValueLabel" text="3" minWidth="40"/>
    </HBox>

    <!-- Word Count Slider -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="Max Words:"/>
        <Slider fx:id="wordCountSlider" min="10" max="200" value="100" showTickLabels="true" showTickMarks="true"
                majorTickUnit="50" minorTickCount="5" HBox.hgrow="ALWAYS"/>
        <Label fx:id="wordCountLabel" text="100" minWidth="40"/>
    </HBox>

    <!-- Action Buttons -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Button fx:id="generateButton" text="Generate" onAction="#handleGenerate" defaultButton="true"/>
        <Button text="Clear" onAction="#handleClear"/>
        <Button text="Copy to Clipboard" onAction="#handleCopy"/>
    </HBox>

    <!-- Autocomplete Section -->
    <Separator/>
    <Label text="Auto-Complete" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
    <VBox spacing="5">
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="Type words:"/>
            <TextField fx:id="autocompleteField" promptText="Type to see next word suggestions..." prefWidth="500"/>
        </HBox>
        <VBox spacing="5">
            <Label text="Suggestions:" style="-fx-font-size: 11px;"/>
            <ListView fx:id="suggestionsList" prefHeight="120" maxHeight="120"
                      style="-fx-background-color: white; -fx-border-color: #cccccc; -fx-border-width: 1;"/>
        </VBox>
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Button text="Append Selected" onAction="#handleAppendSuggestion"/>
            <Button text="Clear Autocomplete" onAction="#handleClearAutocomplete"/>
            <Label fx:id="autocompleteStatusLabel" text="" style="-fx-text-fill: gray;"/>
        </HBox>
    </VBox>

    <!-- Output Area -->
    <Separator/>
    <Label text="Generated Text:"/>
    <TextArea fx:id="outputArea" wrapText="true" editable="false" VBox.vgrow="ALWAYS" prefHeight="300"/>

    <!-- Status Label -->
    <Label fx:id="statusLabel" text="" style="-fx-text-fill: gray;"/>

</VBox>