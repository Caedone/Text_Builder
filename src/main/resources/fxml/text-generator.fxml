<?xml version="1.0" encoding="UTF-8"?>
<!--
*******************************************************************************
* Sentence Builder Application - Text Generator View
*
* This FXML file defines the user interface for the text generation functionality
* of the Sentence Builder application. It allows users to generate text using
* different algorithms based on patterns learned from imported text files.
*
* The interface is organized into several functional sections:
*
* 1. Algorithm Selection - Radio buttons allowing users to choose between:
*    - First-Order Markov Chain: Generates text based on single word transitions
*    - Second-Order Markov Chain: Generates text based on two-word sequences
*    - N-gram: Generates text using configurable N-gram sizes
*
* 2. Generation Parameters:
*    - Start Word field: Optional text field to specify the first word of
*      generated text (leaving blank selects a random starting word)
*    - N Value slider: Controls the N-gram size (1-5) when N-gram algorithm
*      is selected, determining context length
*    - Max Words slider: Sets the maximum length of generated text (10-200 words)
*
* 3. Action Buttons:
*    - Generate: Triggers text generation with current settings
*    - Clear: Clears the output area
*    - Copy to Clipboard: Copies generated text for use in other applications
*
* 4. Auto-Complete Section:
*    - Input field for typing partial text
*    - Suggestion list showing probable next words based on the current context
*    - Buttons to append selected suggestions or clear the autocomplete field
*    This feature demonstrates the predictive capabilities of the trained models
*
* 5. Output Area:
*    - Large text area displaying the generated text
*    - Read-only to prevent accidental modifications
*    - Scrollable for viewing longer generated passages
*
* 6. Status Label:
*    - Displays feedback about generation progress and any errors
*
* This view is controlled by TextGeneratorController.java which implements
* the generation algorithms and handles all user interactions.
*
* Written by Caedon Ewing for CS4485.0W1, capstone project, starting October 2024.
*    NetID: CSE220000
*******************************************************************************
-->

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="edu.utdallas.cs4485.sentencebuilder.controller.TextGeneratorController"
      spacing="10">
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <Label text="Text Generator" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>

    <!-- Algorithm Selection -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="Algorithm:"/>
        <RadioButton fx:id="firstOrderRadio" text="First-Order Markov Chain">
            <toggleGroup>
                <ToggleGroup fx:id="algorithmGroup"/>
            </toggleGroup>
        </RadioButton>
        <RadioButton fx:id="secondOrderRadio" text="Second-Order Markov Chain" toggleGroup="$algorithmGroup"/>
        <RadioButton fx:id="ngramRadio" text="N-gram" toggleGroup="$algorithmGroup"/>
    </HBox>

    <!-- Start Word Input -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="Start Word (optional):"/>
        <TextField fx:id="startWordField" promptText="Leave blank for random" prefWidth="300"/>
    </HBox>

    <!-- N-gram N Value Slider -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="N Value:"/>
        <Slider fx:id="nValueSlider" min="1" max="5" value="3" showTickLabels="true" showTickMarks="true"
                majorTickUnit="1" minorTickCount="0" snapToTicks="true" HBox.hgrow="ALWAYS" prefWidth="200"/>
        <Label fx:id="nValueLabel" text="3" minWidth="40"/>
    </HBox>

    <!-- Word Count Slider -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="Max Words:"/>
        <Slider fx:id="wordCountSlider" min="10" max="200" value="100" showTickLabels="true" showTickMarks="true"
                majorTickUnit="50" minorTickCount="5" HBox.hgrow="ALWAYS"/>
        <Label fx:id="wordCountLabel" text="100" minWidth="40"/>
    </HBox>

    <!-- Action Buttons -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Button fx:id="generateButton" text="Generate" onAction="#handleGenerate" defaultButton="true"/>
        <Button text="Clear" onAction="#handleClear"/>
        <Button text="Copy to Clipboard" onAction="#handleCopy"/>
    </HBox>

    <!-- Autocomplete Section -->
    <Separator/>
    <Label text="Auto-Complete" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
    <VBox spacing="5">
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="Type words:"/>
            <TextField fx:id="autocompleteField" promptText="Type to see next word suggestions..." prefWidth="500"/>
        </HBox>
        <VBox spacing="5">
            <Label text="Suggestions:" style="-fx-font-size: 11px;"/>
            <ListView fx:id="suggestionsList" prefHeight="120" maxHeight="120"
                      style="-fx-background-color: white; -fx-border-color: #cccccc; -fx-border-width: 1;"/>
        </VBox>
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Button text="Append Selected" onAction="#handleAppendSuggestion"/>
            <Button text="Clear Autocomplete" onAction="#handleClearAutocomplete"/>
            <Label fx:id="autocompleteStatusLabel" text="" style="-fx-text-fill: gray;"/>
        </HBox>
    </VBox>

    <!-- Output Area -->
    <Separator/>
    <Label text="Generated Text:"/>
    <TextArea fx:id="outputArea" wrapText="true" editable="false" VBox.vgrow="ALWAYS" prefHeight="300"/>

    <!-- Status Label -->
    <Label fx:id="statusLabel" text="" style="-fx-text-fill: gray;"/>

</VBox>